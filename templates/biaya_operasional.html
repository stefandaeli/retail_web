<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    {% include 'componens/bootstrapt.html' %}
    <title>Biaya Operasional</title>
</head>

<body>
    <div class="d-grid gap-2 col-6 mx-auto mb-3">
        <form action="{% url 'post_biaya_operasional' %}" method="POST">
            {% csrf_token %}
            <h4 class="mt-2">Tambahkan Biaya Operasional</h4>
            <div class="mb-3">
                <label for="" class="form-label">Kode Transaksi</label>
                <input type="text" class="form-control" name="kode_pengiriman" id="kode_pengiriman"
                value="{{data_transaksipembelian.kode_transaksi_pembelian}}" maxlength="120"
                    required readonly>
            </div>
            <label class="form-label">Jalur Operasional</label>
            <select class="form-select mb-3" name="jalur_pengiriman" id="jalur_pengiriman"
                aria-label="Default select example">
                <option value="-">-</option>
                {% for t in data_operasional %}
                <option value="{{t.jenis_transportasi}} | {{t.lokasi_awal}} to {{t.lokasi_tujuan}}">
                    {{t.jenis_transportasi}} | {{t.lokasi_awal}} to {{t.lokasi_tujuan}}
                </option>
                {% endfor %}
            </select>
            <div class="mb-3">
                <label for="" class="form-label">Biaya Operasional</label>
                <input type="number" class="form-control" name="biaya_pengiriman" id="biaya_pengiriman"
                    maxlength="120" required>
            </div>
            <div class="mb-3">
                <label for="" class="form-label">Timestamp</label>
                <input type="text" class="form-control" aria-label="timestamp" aria-describedby="basic-addon1"
                    name="timestamp" id="timestamp" value="{% now 'Y-m-d H:i:s' %}" maxlength="20" required readonly>
            </div>
            <a href="">
                <button class="btn btn-success">Simpan</button>
            </a>
        </form>
        <a href="{% url 'v_transaksipembelian' %}">
            <button class="btn btn-secondary">Kembali</button>
        </a>
    </div>
</body>

</html>
<!-- <script>
    // Panggil fungsi generateUniqueID() saat DOM selesai dimuat
    document.addEventListener('DOMContentLoaded', function () {
        generateUniqueID();
    });

    function generateUniqueID() {
        // Dapatkan objek Date untuk waktu saat ini
        var currentTime = new Date();

        // Atur zona waktu ke Asia/Jakarta
        currentTime.toLocaleString('en-US', {timeZone: 'Asia/Jakarta'});

        // Dapatkan komponen waktu
        var year = currentTime.getFullYear();
        var month = ('0' + (currentTime.getMonth() + 1)).slice(-2); // Tambahkan 1 karena bulan dimulai dari 0
        var day = ('0' + currentTime.getDate()).slice(-2);
        var hours = ('0' + currentTime.getHours()).slice(-2);
        var minutes = ('0' + currentTime.getMinutes()).slice(-2);
        var seconds = ('0' + currentTime.getSeconds()).slice(-2);

        // Format ID dengan komponen waktu
        var autoGeneratedID = 'BOP' + year + month + day + hours + minutes + seconds;

        // Set nilai ID pada elemen dengan ID "kode_sales"
        document.getElementById('kode_pengiriman').value = autoGeneratedID;
    }
</script> -->